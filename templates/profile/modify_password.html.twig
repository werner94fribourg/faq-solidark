{% extends 'profile/base.html.twig' %}

{% block title %}Change password{% endblock %}

{% block main %}
<div class="container-fluid text-center">
  {{ form_start(form, {'attr': {'class': 'form-signin', 'id': 'change_password_form'}}) }}
    <h1 class="mb-3">Change your password</h1>
    <div class="mb-3">
      {{ form_widget(form.old_password, {'attr': {'class': 'form-control', placeholder: 'Old Password'}})}}
      <div id="old_password_error" class="invalid-feedback">
          {{form_errors(form.old_password)}}
      </div>
    </div>
    <div class="mb-3">
      {{ form_widget(form.new_password.first, {'attr': {'class': 'form-control', placeholder: 'New Password'}})}}
      <div id="new_password_first_error" class="invalid-feedback">
          {{form_errors(form.new_password.first)}}
      </div>
    </div>
    <div class="mb-3">
      {{ form_widget(form.new_password.second, {'attr': {'class': 'form-control', placeholder: 'Confirm Password'}})}}
      <div id="new_password_second_error" class="invalid-feedback">
          {{form_errors(form.new_password.second)}}
      </div>
    </div>
    <div class="d-grid gap-2">
      <button class="btn btn-lg btn-primary" type="submit">Reset password</button>
    </div>
  {{ form_end(form) }}
</div>
{% endblock %}

{% block customprofilejavascripts %}
{{parent()}}
{% if validated %}
<script type="text/javascript">
  var z= document.getElementsByName("change_password_request_form")[0];
  z.classList.add("was-validated");
</script>
{% endif %}
{% endblock %}